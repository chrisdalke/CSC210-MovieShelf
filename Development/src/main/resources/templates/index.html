<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.w3.org/1999/xhtml">
    <head th:include="fragments/header :: header">
    </head>
    <body>
        <!-- Include the landing page background image fragment for unauthorized user -->
        <div th:include="fragments/landing-bg :: landing-bg" sec:authorize="isAnonymous()"></div>

        <div class="uk-offcanvas-content uk-light">

            <!-- Include the nav fragment -->
            <div th:include="fragments/nav :: nav"></div>

            <!-- Include the sidebar fragment if the user is logged in -->
            <div th:include="fragments/sidebar :: sidebar" sec:authorize="isAuthenticated()"></div>

            <!-- Landing Page for a not-logged-in user -->
            <div class="uk-padding" sec:authorize="isAnonymous()">
                <h1>Index Page</h1>

                <h2>Not Logged In</h2>
                <h3>Todo: Display a landing page here</h3>
            </div>

            <!-- Landing page for a logged-in user -->
            <div id="main-with-sidebar" class="uk-padding" sec:authorize="isAuthenticated()">
                <h2>Hello, <span th:text="${userProfile.getDisplayName()}">null</span>!</h2>
                <hr>
                <h4>My Shelf</h4>
                <p>You do not have any favorite movies yet! Add some movies to your shelf to start finding suggestions.</p>

            </div>

            <!-- Include the footer fragment -->
            <div th:include="fragments/footer :: footer"></div>
        </div>
    </body>
</html>
